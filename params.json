{"note":"Don't delete this file! It's used internally to help with page regeneration.","google":"","tagline":"Model translations with a pluggable twist","name":"Django-model-i18n","body":"=================\r\ndjango-model-i18n\r\n=================\r\n\r\ndjango-model-i18n is a django application that tries to make multilingual data in models less painful.\r\n\r\nThe main features/goals are:\r\n\r\n* Easy installation and integration. No data or schema migration pain.\r\n* Each multilingual model stores it's translations in a separate table, which from django is just a new model dynamically created, we call this model the translation model.\r\n* You can add (or even drop) i18n support for a model at any time and you won't need to migrate any data or affect the original model (we call this the master model) table definition. This allows you to develop your apps without thinking in the i18n part (you even can load data for the main language and you won't need to migrate it) and when you are comfortable with it register the multilingual options and start working with the content translations.\r\n* 3rd party apps friendly. You can add i18n support to the existing models without modifying their definition at all (think in apps you can't modify directly for example djago.contrib.flatpages).\r\n\r\nInstallation\r\n===========\r\n\r\n* cloning repository\r\n\r\nConfiguration\r\n=============\r\n\r\nGo to urls.py into root project directory and put this\r\n\r\n    from model_i18n import loaders\r\n\r\n    loaders.autodiscover_admin()\r\n\r\nalso add 'django.middleware.locale.LocaleMiddleware' into MIDDLEWARE_CLASSES::\r\n\r\n    MIDDLEWARE_CLASSES = (\r\n        'django.middleware.common.CommonMiddleware',\r\n        'django.contrib.sessions.middleware.SessionMiddleware',\r\n        ## IF CACHE MIDDLEWARE IS SETTING PUT HERE\r\n        'django.middleware.locale.LocaleMiddleware',\r\n        'django.middleware.csrf.CsrfViewMiddleware',\r\n        'django.contrib.auth.middleware.AuthenticationMiddleware',\r\n        'django.contrib.messages.middleware.MessageMiddleware',\r\n        'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware',\r\n    )\r\n\r\nand finally put in INSTALLED_APPS::\r\n\r\n    INSTALLED_APPS = (\r\n        'model_i18n',\r\n        ...\r\n        'django.contrib.admin',\r\n        ...\r\n    )\r\n\r\n**When putting model_i18n must be first in the list of INSTALLED_APPS.**\r\n\r\n\r\nUsage\r\n=====\r\n\r\n1) In the directory of the application create a translations.py\r\n2) Inside the file you need to register translations like this example::\r\n\r\n    from model_i18n import translator\r\n    from app.models import Item\r\n\r\n    class ItemTranslation(translator.ModelTranslation):\r\n        fields = ('title',)\r\n\r\n    translator.register(Item, ItemTranslation)\r\n\r\n\r\n3) Don't forget to run a schema migration if necessary.\r\n\r\nNotes\r\n=====\r\n\r\nIf you will translate models that are into django.contrib.* such as flatpages\r\nyou can create in your root project directory a file named translations.py and handle\r\nother third parties apps.models like this::\r\n    \r\n    from model_i18n import translator\r\n    from django.contrib.flatpages.models import FlatPage\r\n\r\n    class FlatPageTranslation(translator.ModelTranslation):\r\n        fields = ('title', 'content')\r\n    \r\n    translator.register(FlatPage, FlatPageTranslation)\r\n\r\n\r\nand if you need use south you must use SOUTH_MIGRATION_MODULES setting like this::\r\n\r\n    SOUTH_MIGRATION_MODULES  = {\r\n            'flatpages': 'migrations.flatpages'\r\n        }\r\n\r\n\r\nIt has good integration with django.contib.admin. It automatically configures ModelAdmin and inlines that apply.\r\n\r\nAPI EXAMPLES\r\n============\r\n\r\nFiltering\r\n---------\r\n\r\nCode::\r\n\r\n    Item.objects.set_language(\"es\").filter(translations__title__contains='sometext')\r\n    items = Item.objects.filter(Q(translations___language='en') | Q(translations___language='es'))\r\n\r\n    items = items.exclude(category__name='stuff')\r\n    items = items.filter(Q(title__icontains='book') | Q(translations__title__icontains='toy'))\r\n\r\nUpdating\r\n--------\r\n\r\nCode::\r\n\r\n    Item.objects.set_language(\"es\").filter(translations__title__contains='sometext').update(title=u'new text')\r\n\r\nDeleting\r\n--------\r\n\r\nCode::\r\n\r\n    Item.objects.set_language(\"fr\").filter(translations__title__contains='titres à éliminer').delete()\r\n"}